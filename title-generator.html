<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OZONæ ‡é¢˜ç”Ÿæˆå·¥å…·</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
            color: #333;
            display: flex;
        }

        /* åŠ¨ç”»æ ·å¼ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes progress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        .analyzing {
            animation: pulse 2s infinite;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        .slide-in {
            animation: slideIn 0.5s ease-out;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading-container {
            display: none;
            text-align: center;
            padding: 20px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(76, 175, 80, 0.3);
            border-top: 4px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 15px;
        }

        .loading-text {
            color: #4CAF50;
            font-size: 16px;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(76, 175, 80, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        .progress-steps {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 12px;
            margin-top: 10px;
        }

        .step {
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }

        .step.active {
            opacity: 1;
            font-weight: bold;
            color: #4CAF50;
        }

        #competitorAnalysis {
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s ease;
        }

        #competitorAnalysis.show {
            transform: translateY(0);
            opacity: 1;
        }

        .typewriter {
            overflow: hidden;
            border-right: 2px solid #4CAF50;
            white-space: nowrap;
            margin: 0 auto;
            animation: typing 2s steps(40, end), blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 100%; }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent; }
            50% { border-color: #4CAF50; }
        }

        .result-item {
            opacity: 0;
            transform: translateX(-20px);
            animation: slideInLeft 0.6s ease forwards;
        }

        .result-item:nth-child(1) { animation-delay: 0.1s; }
        .result-item:nth-child(2) { animation-delay: 0.2s; }
        .result-item:nth-child(3) { animation-delay: 0.3s; }
        .result-item:nth-child(4) { animation-delay: 0.4s; }

        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .sidebar {
            width: 200px;
            background-color: white;
            color: #333;
            height: 100vh;
            position: fixed;
            left: 0;
            top: 0;
            box-shadow: 2px 0 5px rgba(0,0,0,0.1);
            z-index: 100;
            overflow-y: auto;
            border-right: 1px solid #e0e0e0;
        }
        .sidebar-header {
            padding: 15px;
            background-color: #1565C0;
            text-align: left;
            font-weight: bold;
            font-size: 18px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            color: white;
        }
        .sidebar-menu {
            padding: 15px 0;
        }
        .sidebar-menu-item {
            padding: 10px 15px;
            display: flex;
            align-items: center;
            color: #666;
            text-decoration: none;
            transition: background-color 0.3s;
            font-size: 14px;
        }
        .sidebar-menu-item:hover {
            background-color: rgba(0,0,0,0.05);
            color: #1565C0;
        }
        .sidebar-menu-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
            color: #999;
        }
        .sidebar-menu-item:hover i {
            color: #1565C0;
        }
        .sidebar-breadcrumb {
            padding: 10px 15px;
            font-size: 14px;
            display: flex;
            align-items: center;
            background-color: #1976D2;
            margin-bottom: 5px;
        }
        .sidebar-breadcrumb a {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
        }
        .sidebar-breadcrumb a:hover {
            color: white;
            text-decoration: underline;
        }
        .sidebar-breadcrumb .separator {
            margin: 0 8px;
            color: rgba(255,255,255,0.5);
        }
        .sidebar-breadcrumb .current {
            color: white;
            font-weight: 500;
        }
        .main-content {
            flex: 1;
            margin-left: 200px;
            padding: 20px;
        }
        .container {
            max-width: 900px;
            margin: 20px auto;
            padding: 30px;
            background-color: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            border-radius: 12px;
            transition: all 0.3s ease;
            width: 100%;
        }
        .header {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 25px;
            text-align: center;
            border-radius: 8px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(46, 125, 50, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        .form-group {
            margin-bottom: 22px;
        }
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #444;
            font-size: 15px;
        }
        input[type="text"], textarea {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        input[type="text"]:focus, textarea:focus {
            border-color: #4CAF50;
            box-shadow: 0 2px 10px rgba(76, 175, 80, 0.2);
            outline: none;
        }
        .feature-container {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }
        .feature-input {
            flex-grow: 1;
            margin-right: 10px;
        }
        .add-btn, .remove-btn {
            color: white;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 8px;
            transition: all 0.2s ease;
            box-shadow: 0 3px 5px rgba(0,0,0,0.1);
        }
        .add-btn:hover, .remove-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.15);
        }
        .add-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
        }
        .remove-btn {
            background: linear-gradient(135deg, #f44336, #c62828);
        }
        .btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 12px;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn:active::before {
            width: 300px;
            height: 300px;
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            animation: pulse 1.5s infinite;
        }
        .btn-secondary {
            background: linear-gradient(135deg, #f44336, #c62828);
        }
        .btn-view {
            background: linear-gradient(135deg, #2196F3, #1565C0);
        }
        .result-area {
            margin-top: 20px;
            border-top: 1px solid #e0e0e0;
            padding-top: 25px;
        }
        .ai-prompt {
            background-color: #f9f9f9;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            min-height: 100px;
            margin-bottom: 20px;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            font-size: 15px;
            line-height: 1.6;
        }
        .button-group {
            display: flex;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .logo {
            height: 40px;
            margin-right: 15px;
            vertical-align: middle;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            color: #777;
            font-size: 14px;
        }
        .customer-service {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        .customer-service:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(0,0,0,0.25);
        }
        .customer-service i {
            font-size: 28px;
        }
        
        /* Toastæç¤ºæ ·å¼ */
        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            font-size: 14px;
            z-index: 1100;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .toast.show {
            opacity: 1;
        }
        @media (max-width: 600px) {
            .button-group {
                flex-direction: column;
            }
            .btn {
                margin-bottom: 12px;
            }
            .customer-service {
                width: 50px;
                height: 50px;
                bottom: 20px;
                right: 20px;
            }
            .customer-service i {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <span>OZONæ ‡é¢˜ç”Ÿæˆ</span>
            <i class="fas fa-bars" style="margin-left: auto;"></i>
        </div>
        <div class="sidebar-menu">
            <div class="sidebar-breadcrumb">
                <a href="index.html">é¦–é¡µ</a>
                <span class="separator">></span>
                <a href="ai-tools.html">AIå·¥å…·</a>
                <span class="separator">></span>
                <span class="current">AIæ ‡é¢˜-ç®€ä»‹-å…³é”®è¯</span>
            </div>
            <a href="index.html" class="sidebar-menu-item"><i class="fas fa-home"></i> é¦–é¡µ</a>
            <a href="tools.html" class="sidebar-menu-item"><i class="fas fa-tools"></i> å®ç”¨å·¥å…·</a>
            <a href="ai-tools.html" class="sidebar-menu-item"><i class="fas fa-robot"></i> AIå·¥å…·</a>
            <a href="data-analysis.html" class="sidebar-menu-item"><i class="fas fa-chart-line"></i> æ•°æ®åˆ†æ</a>
            <a href="settings.html" class="sidebar-menu-item"><i class="fas fa-cog"></i> è®¾ç½®</a>
        </div>
    </div>
    
    <div class="main-content">
    <div class="container">
        
        <div class="header">
            <img src="logo.png" alt="AIå·¥å…·" class="logo">
            <h1>AIæ™ºèƒ½ç”Ÿæˆ: æ ‡é¢˜ã€ç®€ä»‹ã€å…³é”®è¯ã€æ ‡ç­¾</h1>
        </div>
        
        <!-- DeepSeek API é…ç½®åŒºåŸŸ -->
        <div class="api-config" style="background: #e3f2fd; padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #2196f3;">
            <h3 style="margin: 0 0 10px 0; color: #1976d2;">ğŸ¤– AIæ¨¡å‹é…ç½®</h3>
            <div style="margin-bottom: 15px;">
                <label for="aiModel" style="display: block; margin-bottom: 5px; font-weight: bold;">é€‰æ‹©AIæ¨¡å‹ï¼š</label>
                <select id="aiModel" onchange="onAiModelChange()" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; background: white;">
                    <option value="deepseek">DeepSeek (éœ€è¦APIå¯†é’¥)</option>
                </select>
            </div>
            <div id="deepseekConfig" style="margin-bottom: 10px;">
                        <label for="deepseekApiKey" style="display: block; margin-bottom: 5px; font-weight: bold;">API å¯†é’¥ï¼š</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="password" id="deepseekApiKey" placeholder="è¯·è¾“å…¥æ‚¨çš„DeepSeek APIå¯†é’¥ (sk-...)" 
                                   style="flex: 1; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: monospace;">
                            <button onclick="toggleApiKeyVisibility()" style="padding: 8px 12px; border: 1px solid #ddd; border-radius: 4px; background: #f8f9fa; cursor: pointer;" title="æ˜¾ç¤º/éšè—å¯†é’¥">ğŸ‘ï¸</button>
                            <button onclick="saveApiKey()" style="padding: 8px 12px; border: 1px solid #28a745; border-radius: 4px; background: #28a745; color: white; cursor: pointer;" title="ä¿å­˜åˆ°æœ¬åœ°">ğŸ’¾</button>
                        </div>
                    </div>

            <div id="deepseekHelp" style="font-size: 12px; color: #666; line-height: 1.4;">
                <p style="margin: 5px 0;">ğŸ’¡ <strong>å¦‚ä½•è·å–APIå¯†é’¥ï¼š</strong></p>
                <p style="margin: 5px 0;">1. è®¿é—® <a href="https://platform.deepseek.com" target="_blank" style="color: #1976d2;">DeepSeekå¼€æ”¾å¹³å°</a></p>
                <p style="margin: 5px 0;">2. æ³¨å†Œè´¦å·å¹¶ç™»å½•</p>
                <p style="margin: 5px 0;">3. åœ¨APIå¯†é’¥ç®¡ç†é¡µé¢åˆ›å»ºæ–°çš„APIå¯†é’¥</p>
                <p style="margin: 5px 0;">4. å¤åˆ¶å¯†é’¥å¹¶ç²˜è´´åˆ°ä¸Šæ–¹è¾“å…¥æ¡†ä¸­ï¼Œç‚¹å‡»ä¿å­˜åˆ°æœ¬åœ°</p>
                <p style="margin: 5px 0;">5. å®Œæˆå®åè®¤è¯å¹¶å‰å¾€Deepseekè¿›è¡Œå……å€¼â€”â€”è´¹ç”¨çº¦ä¸º0.01/æ¬¡ <a href="https://platform.deepseek.com/top_up" target="_blank" style="color: #1976d2;">DeepSeekå……å€¼ä¸­å¿ƒ</a>
                <p style="margin: 5px 0;">ğŸ”’ <strong>éšç§ä¿æŠ¤ï¼š</strong>APIå¯†é’¥ä»…åœ¨æœ¬åœ°ä½¿ç”¨ï¼Œä¸ä¼šè¢«ä¿å­˜æˆ–ä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨</p>
            </div>
        </div>
        
        <div class="form-group">
            <label for="productName">* ä¸­æ–‡åç§°</label>
            <input type="text" id="productName" placeholder="è¯·è¾“å…¥äº§å“ä¸­æ–‡åç§°">
        </div>
        
        <div class="form-group">
            <label for="competitorLink">ç«å“é“¾æ¥</label>
            <input type="text" id="competitorLink" placeholder="è¯·å¤åˆ¶OZONä¸ŠåŒç±»äº§å“çš„é“¾æ¥ï¼ˆéå¿…å¡«ï¼‰">
            <button class="btn" onclick="analyzeCompetitor()" style="margin-top: 10px;">ğŸ” åˆ†æç«å“å–ç‚¹</button>
            <button class="btn btn-outline" onclick="mockAnalyzeCompetitor()" style="margin-top: 10px; margin-left: 10px; background: #f8f9fa; border: 1px solid #dee2e6; color: #6c757d;">ğŸ­ æ¨¡æ‹Ÿåˆ†æ (å¤‡ç”¨)</button>
            
            <!-- åŠ è½½åŠ¨ç”»å®¹å™¨ -->
            <div id="loadingContainer" class="loading-container">
                <div class="loading-spinner"></div>
                <div class="loading-text" id="loadingText">æ­£åœ¨åˆ†æç«å“...</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>
                <div class="progress-steps">
                    <span class="step" id="step1">è·å–é“¾æ¥</span>
                    <span class="step" id="step2">è§£æå†…å®¹</span>
                    <span class="step" id="step3">AIåˆ†æ</span>
                    <span class="step" id="step4">ç”Ÿæˆç»“æœ</span>
                </div>
            </div>
        </div>
        
        <div class="form-group" id="competitorAnalysis" style="display: none;">
            <label>ç«å“åˆ†æç»“æœ</label>
            <div class="ai-prompt" id="competitorResult"></div>
        </div>
        
        <div class="form-group">
            <label>å•†å“ç‰¹å¾</label>
            <div id="features">
                <div class="feature-container">
                    <input type="text" class="feature-input" placeholder="è¯·è¾“å…¥å•†å“ç‰¹å¾æè¿°ï¼ˆä¸­æ–‡ï¼‰ï¼šå¦‚â€œå¯æŠ˜å â€ã€â€œè½»ä¾¿â€">
                    <button class="add-btn" onclick="addFeature()">+</button>
                </div>
            </div>
        </div>
        
        <div class="button-group">
            <button class="btn" onclick="generatePrompt()">ç”Ÿæˆã€æ ‡é¢˜ã€ç®€ä»‹ã€å…³é”®è¯ã€æ ‡ç­¾ã€‘AIæé—®è¯</button>
            <button class="btn btn-secondary" onclick="clearForm()">æ¸…ç©º</button>
            <button class="btn btn-view" onclick="showDemo()">æŸ¥çœ‹è§†é¢‘æ¼”ç¤º</button>
        </div>
        
        <div class="result-area" id="resultArea" style="display: none;">
            <h3>AIæé—®è¯</h3>
            <div class="ai-prompt" id="aiPrompt"></div>
            
            <div class="button-group">
                <button class="btn" onclick="copyPrompt()">å¤åˆ¶AIæé—®è¯</button>
                <button class="btn btn-view" onclick="goToDeepseek()">å‰å¾€Deepseek</button>
            </div>
        </div>
        
        <div class="footer">
            Â© 2025 Made By Nicole. 
        </div>
    </div>
    </div>
    
    <div class="customer-service" onclick="showCustomerService()">
        <i class="fas fa-headset"></i>
    </div>
    
    <div id="toast" class="toast"></div>

    <script>
        function addFeature() {
            const featuresDiv = document.getElementById('features');
            const newFeature = document.createElement('div');
            newFeature.className = 'feature-container';
            newFeature.innerHTML = `
                <input type="text" class="feature-input" placeholder="è¯·è¾“å…¥å•†å“ç‰¹å¾æè¿°ï¼ˆä¸­æ–‡ï¼‰ï¼šå¦‚"å¯æŠ˜å "ã€"è½»ä¾¿"">
                <button class="remove-btn" onclick="removeFeature(this)">-</button>
                <button class="add-btn" onclick="addFeature()">+</button>
            `;
            featuresDiv.appendChild(newFeature);
        }
        
        function removeFeature(button) {
            const container = button.parentElement;
            container.remove();
        }

        function generatePrompt() {
            // ä¸ºç”ŸæˆæŒ‰é’®æ·»åŠ ç‰¹æ®ŠåŠ¨ç”»
            const generateBtn = event.target;
            generateBtn.classList.add('analyzing');
            generateBtn.style.transform = 'scale(0.95)';
            
            setTimeout(() => {
                generateBtn.style.transform = 'scale(1)';
            }, 200);
            
            const productName = document.getElementById('productName').value.trim();
            if (!productName) {
                generateBtn.classList.remove('analyzing');
                showToast('âŒ è¯·è¾“å…¥äº§å“ä¸­æ–‡åç§°');
                return;
            }

            const competitorLink = document.getElementById('competitorLink').value.trim();
            
            // è·å–æ‰€æœ‰ç‰¹å¾
            const featureInputs = document.querySelectorAll('.feature-input');
            const features = [];
            featureInputs.forEach(input => {
                const value = input.value.trim();
                if (value) {
                    features.push(value);
                }
            });

            // ç”ŸæˆAIæé—®è¯
            let prompt = `æˆ‘æ˜¯åšä¿„ç½—æ–¯OZONç”µå•†å¹³å°çš„è·¨å¢ƒå–å®¶ï¼ŒOZONæ˜¯è´§æ¶ç”µå•†å¹³å°ï¼Œæˆ‘æ­£åœ¨OZONå¹³å°ä¸Šæ¶ä¸€æ¬¾å•†å“ï¼Œå®ƒçš„ä¸­æ–‡åç§°æ˜¯ï¼š"${productName}"`;
            
            if (competitorLink) {
                prompt += `ï¼Œè¿™æ¬¾å•†å“åœ¨OZONå¹³å°ä¸Šæœ‰ä¸€ä¸ªç«å“çš„é“¾æ¥æ˜¯"${competitorLink}"`;
            }
            
            if (features.length > 0) {
                prompt += `ï¼Œè¿™æ¬¾å•†å“æœ‰ä»¥ä¸‹ç‰¹å¾:`;
                features.forEach((feature, index) => {
                    if (index > 0) {
                        prompt += `ã€`;
                    }
                    prompt += `"${feature}"`;
                });
            }
            
            prompt += `ã€è¯·ç»“åˆå•†å“çš„ä¸­æ–‡åç§°ï¼Œå•†å“çš„ç‰¹å¾`;
            
            if (competitorLink) {
                prompt += `ä»¥åŠç«å“é“¾æ¥ï¼Œå¹¶è§£æé“¾æ¥ä¸­çš„ä¿„æ–‡æ ‡é¢˜ä»¥åŠ"ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ"å±æ€§ä¸­çš„ä¿„æ–‡å•†å“æè¿°`;
            }
            
            prompt += `ç”Ÿæˆæ–°çš„äº§å“æ ‡é¢˜ï¼ˆäº§å“æ ‡é¢˜æ˜¯ä¿„æ–‡ï¼Œå¹¶ä¸”ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„æ–¹å¼å±•ç¤ºï¼Œç”±ä¸€ä¸ªæ ¸å¿ƒè¯åŠ ä¸€ä¸ªé•¿å°¾è¯ç»„æˆå°±å¯ä»¥ï¼‰ã€æ–°çš„äº§å“æè¿°ï¼ˆäº§å“æè¿°æ˜¯ä¿„æ–‡ï¼Œå¹¶ä¸”ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„æ–¹å¼å±•ç¤ºï¼Œäº§å“æè¿°ä¸è¦å‡ºç°å…·ä½“çš„å°ºå¯¸ä¿¡æ¯ï¼Œäº§å“çš„ä¿„æ–‡æè¿°çš„é•¿å¥å­ä¸­å¿…é¡»åŒ…å«æ ‡ç‚¹ç¬¦å·ï¼Œä¸å°‘äº300å­—ï¼‰ã€æ–°çš„äº§å“å…³é”®è¯(äº§å“å…³é”®è¯ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„æ–¹å¼å±•ç¤ºï¼Œå¹¶ä¸”æ•°é‡ä¸å°‘äº20ä¸ªä½†ä¸å¤šäº30ä¸ªï¼Œå…³é”®è¯ä¹‹é—´ç”¨;éš”å¼€)ï¼Œæ–°çš„ä¸»é¢˜æ ‡ç­¾ï¼ˆä¸»é¢˜æ ‡ç­¾æ˜¯ä¿„æ–‡ï¼Œå¹¶ä¸”ç”¨æ–‡æœ¬ç¼–è¾‘å™¨çš„æ–¹å¼å±•ç¤ºï¼Œä¸»é¢˜æ ‡ç­¾ç±»ä¼¼ç¤¾äº¤åª’ä½“ä¸­çš„è¯é¢˜æ ‡ç­¾ï¼Œå•†å“çš„ä¸»é¢˜æ ‡ç­¾å¯ä»¥æ˜¯å•†å“æ‰€ä»£è¡¨çš„é£æ ¼ã€ä¸»ä¹‰ã€æµè¡Œè¶‹åŠ¿ã€ç”Ÿæ´»æ–¹å¼ã€æˆ–è€…ä½¿ç”¨äººç¾¤çš„æ—¥å¸¸ç¤¾äº¤æ´»åŠ¨ç­‰ã€‚ä¸»é¢˜æ ‡ç­¾ä¸è¦å‡ºç°ä»»ä½•å“ç‰Œåç§°ï¼Œä¸»é¢˜æ ‡ç­¾è¦é¿å…ä½¿ç”¨ä»»ä½•å¯èƒ½æ¶‰åŠæ”¿ç­–ã€å†›äº‹ã€è¿ç¦å“çš„è¯æ±‡ã€‚ä¸»é¢˜æ ‡ç­¾å¿…é¡»ä»¥#å·å¼€å¤´ï¼Œå¹¶ä¸”åªåŒ…å«å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿ã€‚ä¸»é¢˜æ ‡ç­¾çš„æœ€å¤§é•¿åº¦ä¸º28ä¸ªå­—ç¬¦ï¼Œæ•°é‡30ä¸ªå·¦å³ï¼Œç›¸é‚»çš„ä¸»é¢˜æ ‡ç­¾ä¹‹é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼‰ï¼Œè¦æ±‚ä»¥ä¿„æ–‡å½¢å¼ï¼Œå¹¶ä¸”ç¬¦åˆä¿„ç½—æ–¯äººçš„å£è¯­ä¹ æƒ¯ï¼Œå¹¶åˆ†åˆ«ä»¥æ–‡æœ¬ç¼–è¾‘å™¨çš„å±•ç¤ºæ–¹å¼ï¼Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ˜¯ç›¸å…³çš„ä¿„æ–‡å†…å®¹ï¼Œæ–‡æœ¬ç¼–è¾‘å™¨ä¸‹æ–¹è¦æœ‰å¯¹åº”çš„çš„ä¸­æ–‡å¯¹ç…§ç¿»è¯‘ï¼ˆä¸­æ–‡å¯¹ç…§ç¿»è¯‘ä¸è¦å±•ç¤ºåœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼‰`;

            // æ˜¾ç¤ºç»“æœåŒºåŸŸå¹¶æ·»åŠ åŠ¨ç”»æ•ˆæœ
             const resultArea = document.getElementById('resultArea');
             const aiPrompt = document.getElementById('aiPrompt');
             
             // ç§»é™¤ç”ŸæˆæŒ‰é’®çš„åˆ†æåŠ¨ç”»
             generateBtn.classList.remove('analyzing');
             
             // ç›´æ¥æ˜¾ç¤ºå®Œæ•´å†…å®¹
             aiPrompt.textContent = prompt;
             resultArea.style.display = 'block';
             resultArea.classList.add('fade-in');
             
             showToast('âœ… AIæé—®è¯ç”Ÿæˆå®Œæˆï¼');
        }

        function showToast(message, duration = 2000) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            
            // æ·»åŠ å›¾æ ‡åŠ¨ç”»
            if (message.includes('âœ…')) {
                toast.style.background = 'linear-gradient(135deg, #4CAF50, #45a049)';
                toast.style.animation = 'slideInRight 0.5s ease, pulse 0.3s ease 0.5s';
            } else if (message.includes('âŒ')) {
                toast.style.background = 'linear-gradient(135deg, #f44336, #d32f2f)';
                toast.style.animation = 'shake 0.5s ease, slideInRight 0.5s ease';
            } else if (message.includes('ğŸ”') || message.includes('ğŸ­')) {
                toast.style.background = 'linear-gradient(135deg, #2196F3, #1976D2)';
                toast.style.animation = 'slideInRight 0.5s ease, pulse 2s infinite 1s';
            } else {
                toast.style.animation = 'slideInRight 0.5s ease';
            }
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.5s ease';
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 500);
            }, duration);
        }
        
        function copyPrompt() {
            const promptText = document.getElementById('aiPrompt').textContent;
            navigator.clipboard.writeText(promptText)
                .then(() => showToast('âœ… AIæé—®è¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'))
                .catch(err => showToast('âŒ å¤åˆ¶å¤±è´¥: ' + err));
        }

        function goToDeepseek() {
            window.open('https://chat.deepseek.com/', '_blank');
        }
        
        function showDemo() {
            alert('è§†é¢‘æ¼”ç¤ºåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­');
        }

        function showCustomerService() {
            alert('è”ç³»æˆ‘ä»¬ï¼š\né‚®ç®±ï¼šzouqifeng@jiawae-commerce.com\nå·¥ä½œæ—¶é—´ï¼šå‘¨ä¸€è‡³å‘¨äº” 9:00-18:00');
        }

        async function analyzeCompetitor() {
            const competitorLink = document.getElementById('competitorLink').value.trim();
            const aiModel = document.getElementById('aiModel').value;
            
            if (!competitorLink) {
                alert('è¯·å…ˆè¾“å…¥ç«å“é“¾æ¥');
                return;
            }
            
            if (!competitorLink.includes('ozon.ru')) {
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„OZONå•†å“é“¾æ¥');
                return;
            }
            
            // åªæ”¯æŒDeepSeekæ¨¡å‹
            if (aiModel === 'deepseek') {
                await analyzeDeepSeekCompetitor(competitorLink);
            } else {
                await analyzeDeepSeekCompetitor(competitorLink);
            }
        }
        
        async function analyzeDeepSeekCompetitor(competitorLink) {
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
            showLoadingAnimation();
            
            try {
                // è°ƒç”¨DeepSeek APIåˆ†æç«å“
                const analysisResult = await callDeepSeekAPI(competitorLink);
                
                // éšè—åŠ è½½åŠ¨ç”»
                hideLoadingAnimation();
                
                // æ˜¾ç¤ºç»“æœå¹¶æ·»åŠ åŠ¨ç”»æ•ˆæœ
                const resultElement = document.getElementById('competitorResult');
                resultElement.innerHTML = analysisResult;
                resultElement.classList.add('fade-in');
                const analysisSection = document.getElementById('competitorAnalysis');
                analysisSection.style.display = 'block';
                setTimeout(() => {
                    analysisSection.classList.add('show');
                }, 100);
                
                // è‡ªåŠ¨å¡«å……åˆ†æå‡ºçš„ç‰¹å¾åˆ°å•†å“ç‰¹å¾ä¸­
                autoFillFeaturesFromAI(analysisResult);
                
                showToast('âœ… DeepSeekåˆ†æå®Œæˆï¼');
            } catch (error) {
                hideLoadingAnimation();
                showToast('âŒ DeepSeekåˆ†æå¤±è´¥: ' + error.message + '\nğŸ’¡ å»ºè®®ï¼šåˆ‡æ¢åˆ°åŠå…¬å°æµ£ç†Šï¼ˆå…è´¹ï¼‰');
                console.error('DeepSeek APIè°ƒç”¨å¤±è´¥:', error);
            }
        }
        
        async function mockAnalyzeCompetitor() {
             const competitorLink = document.getElementById('competitorLink').value.trim();
             if (!competitorLink) {
                 alert('è¯·å…ˆè¾“å…¥ç«å“é“¾æ¥ï¼ˆæ¨¡æ‹Ÿåˆ†æä¹Ÿéœ€è¦é“¾æ¥ä½œä¸ºå‚è€ƒï¼‰');
                 return;
             }
             
             // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»ï¼ˆæ¨¡æ‹Ÿç‰ˆæœ¬ï¼‰
             showLoadingAnimation(true);
             
             try {
                 // æ¨¡æ‹Ÿåˆ†æè¿‡ç¨‹
                 await new Promise(resolve => setTimeout(resolve, 1500));
                 
                 const analysisResult = await generateMockAnalysis(competitorLink);
                 
                 // éšè—åŠ è½½åŠ¨ç”»
                 hideLoadingAnimation();
                 
                 // æ˜¾ç¤ºç»“æœå¹¶æ·»åŠ åŠ¨ç”»æ•ˆæœ
                 const resultElement = document.getElementById('competitorResult');
                 resultElement.innerHTML = analysisResult;
                 resultElement.classList.add('fade-in');
                 const analysisSection = document.getElementById('competitorAnalysis');
                 analysisSection.style.display = 'block';
                 setTimeout(() => {
                     analysisSection.classList.add('show');
                 }, 100);
                 
                 // è‡ªåŠ¨å¡«å……åˆ†æå‡ºçš„ç‰¹å¾åˆ°å•†å“ç‰¹å¾ä¸­
                 autoFillFeaturesFromAI(analysisResult);
                 
                 showToast('âœ… æ¨¡æ‹Ÿåˆ†æå®Œæˆï¼');
             } catch (error) {
                 hideLoadingAnimation();
                 showToast('âŒ æ¨¡æ‹Ÿåˆ†æå¤±è´¥: ' + error.message);
                 console.error('æ¨¡æ‹Ÿåˆ†æå¤±è´¥:', error);
             }
         }
         
         async function generateMockAnalysis(competitorLink) {
             // åŸºäºé“¾æ¥å†…å®¹æ™ºèƒ½ç”Ÿæˆæ¨¡æ‹Ÿåˆ†æç»“æœ
             const mockAnalysisTemplates = {
                 electronics: {
                     keywords: ['Ğ½Ğ°ÑƒÑˆĞ½Ğ¸ĞºĞ¸', 'bluetooth', 'Ğ±ĞµÑĞ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ', 'Ğ·Ğ°Ñ€ÑĞ´ĞºĞ°', 'ÑĞ¼Ğ°Ñ€Ñ‚Ñ„Ğ¾Ğ½'],
                     features: ['æ— çº¿è¿æ¥', 'è“ç‰™æŠ€æœ¯', 'å¿«é€Ÿå……ç”µ', 'é•¿ç»­èˆª', 'é«˜éŸ³è´¨', 'é™å™ªåŠŸèƒ½'],
                     title: 'Ğ‘ĞµÑĞ¿Ñ€Ğ¾Ğ²Ğ¾Ğ´Ğ½Ñ‹Ğµ Ğ½Ğ°ÑƒÑˆĞ½Ğ¸ĞºĞ¸ Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼ ÑˆÑƒĞ¼Ğ¾Ğ¿Ğ¾Ğ´Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼',
                     description: 'é«˜å“è´¨æ— çº¿è€³æœºï¼Œé‡‡ç”¨å…ˆè¿›çš„è“ç‰™æŠ€æœ¯å’Œä¸»åŠ¨é™å™ªåŠŸèƒ½ï¼Œä¸ºç”¨æˆ·æä¾›å“è¶Šçš„éŸ³è´¨ä½“éªŒå’Œèˆ’é€‚çš„ä½©æˆ´æ„Ÿå—ã€‚'
                 },
                 fashion: {
                     keywords: ['Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°', 'Ğ¼Ğ¾Ğ´Ğ°', 'ÑÑ‚Ğ¸Ğ»ÑŒ', 'ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾', 'ĞºĞ¾Ğ¼Ñ„Ğ¾Ñ€Ñ‚'],
                     features: ['æ—¶å°šè®¾è®¡', 'èˆ’é€‚é¢æ–™', 'å¤šè‰²å¯é€‰', 'ç™¾æ­æ¬¾å¼', 'ä¼˜è´¨åšå·¥', 'é€æ°”æ€§å¥½'],
                     title: 'Ğ¡Ñ‚Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¾Ğ´ĞµĞ¶Ğ´Ğ° Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ³Ğ¾ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ°',
                     description: 'æ—¶å°šæœè£…ï¼Œé‡‡ç”¨ä¼˜è´¨é¢æ–™åˆ¶ä½œï¼Œè®¾è®¡ç®€çº¦å¤§æ–¹ï¼Œé€‚åˆå¤šç§åœºåˆç©¿ç€ï¼Œå±•ç°ä¸ªäººå“å‘³å’Œé£æ ¼ã€‚'
                 },
                 home: {
                     keywords: ['Ğ´Ğ¾Ğ¼', 'ĞºÑƒÑ…Ğ½Ñ', 'ÑƒĞ´Ğ¾Ğ±ÑÑ‚Ğ²Ğ¾', 'Ğ¿Ñ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ', 'ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾'],
                     features: ['å®ç”¨è®¾è®¡', 'è€ç”¨æè´¨', 'æ˜“äºæ¸…æ´', 'èŠ‚çœç©ºé—´', 'å¤šåŠŸèƒ½', 'å®‰å…¨å¯é '],
                     title: 'ĞŸÑ€Ğ°ĞºÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ´Ğ¾Ğ¼Ğ°',
                     description: 'å®ç”¨çš„å®¶å±…ç”¨å“ï¼Œè®¾è®¡äººæ€§åŒ–ï¼Œæè´¨å®‰å…¨è€ç”¨ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæå‡ç”Ÿæ´»å“è´¨å’Œä¾¿åˆ©æ€§ã€‚'
                 },
                 beauty: {
                     keywords: ['ĞºÑ€Ğ°ÑĞ¾Ñ‚Ğ°', 'ÑƒÑ…Ğ¾Ğ´', 'ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸ĞºĞ°', 'Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ', 'Ğ½Ğ°Ñ‚ÑƒÑ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹'],
                     features: ['å¤©ç„¶æˆåˆ†', 'æ¸©å’Œé…æ–¹', 'æ·±å±‚æ»‹å…»', 'å¿«é€Ÿå¸æ”¶', 'æŒä¹…æ•ˆæœ', 'é€‚åˆæ•æ„Ÿè‚Œ'],
                     title: 'ĞĞ°Ñ‚ÑƒÑ€Ğ°Ğ»ÑŒĞ½Ğ°Ñ ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸ĞºĞ° Ğ´Ğ»Ñ ÑƒÑ…Ğ¾Ğ´Ğ°',
                     description: 'å¤©ç„¶æŠ¤è‚¤äº§å“ï¼Œé‡‡ç”¨æ¸©å’Œé…æ–¹ï¼Œå¯Œå«è¥å…»æˆåˆ†ï¼Œèƒ½å¤Ÿæ·±å±‚æ»‹å…»è‚Œè‚¤ï¼Œå¸¦æ¥å¥åº·ç¾ä¸½çš„è‚Œè‚¤çŠ¶æ€ã€‚'
                 },
                 sports: {
                     keywords: ['ÑĞ¿Ğ¾Ñ€Ñ‚', 'Ñ„Ğ¸Ñ‚Ğ½ĞµÑ', 'Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°', 'Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒĞµ', 'Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ'],
                     features: ['ä¸“ä¸šè®¾è®¡', 'è€ç£¨è€ç”¨', 'é€æ°”æ’æ±—', 'èˆ’é€‚è´´åˆ', 'è¿åŠ¨ä¿æŠ¤', 'æ—¶å°šå¤–è§‚'],
                     title: 'Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ñ‹ Ğ´Ğ»Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ° Ğ¶Ğ¸Ğ·Ğ½Ğ¸',
                     description: 'ä¸“ä¸šè¿åŠ¨ç”¨å“ï¼Œé‡‡ç”¨å…ˆè¿›ææ–™å’Œäººä½“å·¥å­¦è®¾è®¡ï¼Œä¸ºè¿åŠ¨çˆ±å¥½è€…æä¾›æœ€ä½³çš„è¿åŠ¨ä½“éªŒå’Œä¿æŠ¤ã€‚'
                 }
             };
             
             // æ ¹æ®é“¾æ¥å†…å®¹æ™ºèƒ½é€‰æ‹©æ¨¡æ¿
             let selectedTemplate = mockAnalysisTemplates.electronics; // é»˜è®¤
             const linkLower = competitorLink.toLowerCase();
             
             if (linkLower.includes('Ğ¾Ğ´ĞµĞ¶Ğ´Ğ°') || linkLower.includes('Ğ¼Ğ¾Ğ´Ğ°') || linkLower.includes('fashion')) {
                 selectedTemplate = mockAnalysisTemplates.fashion;
             } else if (linkLower.includes('Ğ´Ğ¾Ğ¼') || linkLower.includes('ĞºÑƒÑ…Ğ½Ñ') || linkLower.includes('home')) {
                 selectedTemplate = mockAnalysisTemplates.home;
             } else if (linkLower.includes('ĞºÑ€Ğ°ÑĞ¾Ñ‚Ğ°') || linkLower.includes('ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸ĞºĞ°') || linkLower.includes('beauty')) {
                 selectedTemplate = mockAnalysisTemplates.beauty;
             } else if (linkLower.includes('ÑĞ¿Ğ¾Ñ€Ñ‚') || linkLower.includes('Ñ„Ğ¸Ñ‚Ğ½ĞµÑ') || linkLower.includes('sport')) {
                 selectedTemplate = mockAnalysisTemplates.sports;
             }
             
             return `
                 <h4 class="result-item typewriter">ğŸ­ æ¨¡æ‹Ÿåˆ†æç»“æœï¼š</h4>
                 <div class="result-item" style="background: #fff3cd; padding: 15px; border-radius: 8px; margin: 10px 0; border-left: 4px solid #ffc107;">
                     <p><strong>ğŸ“ ç«å“æ ‡é¢˜ï¼š</strong>${selectedTemplate.title}</p>
                     <p><strong>ğŸ¯ ä¸»è¦å–ç‚¹ï¼š</strong>${selectedTemplate.features.join('ã€')}</p>
                     <p><strong>ğŸ“‹ äº§å“æè¿°ï¼š</strong>${selectedTemplate.description}</p>
                     <p><strong>ğŸ” å…³é”®è¯å»ºè®®ï¼š</strong>${selectedTemplate.keywords.join(', ')}</p>
                 </div>
                 <div class="result-item" style="background: #d1ecf1; padding: 10px; border-radius: 6px; margin: 10px 0; font-size: 12px;">
                     <p><strong>â„¹ï¸ è¯´æ˜ï¼š</strong>è¿™æ˜¯åŸºäºå¸¸è§äº§å“ç±»å‹çš„æ¨¡æ‹Ÿåˆ†æç»“æœï¼Œä»…ä¾›å‚è€ƒã€‚å»ºè®®é…ç½®DeepSeek APIå¯†é’¥ä»¥è·å¾—æ›´å‡†ç¡®çš„åˆ†æã€‚</p>
                 </div>
                 <hr class="result-item">
                 <p class="result-item"><strong>ğŸ’¡ æç¤ºï¼š</strong>æ¨¡æ‹Ÿåˆ†æç»“æœå·²è‡ªåŠ¨å¡«å……åˆ°å•†å“ç‰¹å¾ä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…äº§å“æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚</p>
             `;
         }
        
        async function callDeepSeekAPI(competitorLink) {
            // DeepSeek API é…ç½®
            // ä»é¡µé¢è·å–ç”¨æˆ·è¾“å…¥çš„APIå¯†é’¥
            const API_KEY = document.getElementById('deepseekApiKey')?.value?.trim() || '';
            
            if (!API_KEY || API_KEY === 'sk-your-deepseek-api-key') {
                throw new Error('è¯·å…ˆåœ¨é¡µé¢é¡¶éƒ¨è®¾ç½®æ‚¨çš„DeepSeek APIå¯†é’¥');
            }
            const API_URL = 'https://api.deepseek.com/v1/chat/completions';
            
            // æ„å»ºåˆ†ææç¤ºè¯
            const prompt = `è¯·åˆ†æè¿™ä¸ªOZONå•†å“é“¾æ¥ï¼š${competitorLink}

è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. å•†å“æ ‡é¢˜ï¼ˆä¿„æ–‡ï¼‰
2. ä¸»è¦å–ç‚¹å’Œç‰¹å¾ï¼ˆä¸­æ–‡ï¼Œç”¨äºåç»­ç”Ÿæˆï¼‰
3. äº§å“æè¿°è¦ç‚¹
4. å…³é”®è¯å»ºè®®

è¯·ä»¥ç»“æ„åŒ–çš„æ–¹å¼è¿”å›åˆ†æç»“æœã€‚`;
            
            const requestBody = {
                model: "deepseek-chat",
                messages: [
                    {
                        role: "system",
                        content: "ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„OZONç”µå•†å¹³å°äº§å“åˆ†æå¸ˆï¼Œæ“…é•¿åˆ†æç«å“å¹¶æå–å…³é”®ä¿¡æ¯ã€‚"
                    },
                    {
                        role: "user",
                        content: prompt
                    }
                ],
                temperature: 0.7,
                max_tokens: 2000
            };
            
            try {
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${API_KEY}`
                    },
                    body: JSON.stringify(requestBody)
                });
                
                if (!response.ok) {
                    throw new Error(`APIè¯·æ±‚å¤±è´¥: ${response.status} ${response.statusText}`);
                }
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // æ ¼å¼åŒ–AIå“åº”ä¸ºHTML
                return formatAIResponse(aiResponse);
                
            } catch (error) {
                 console.error('DeepSeek APIè°ƒç”¨è¯¦ç»†é”™è¯¯:', error);
                 
                 let errorMessage = 'DeepSeek APIè°ƒç”¨å¤±è´¥ã€‚';
                 
                 if (error.message.includes('402')) {
                     errorMessage += '\nâŒ é”™è¯¯åŸå› ï¼šè´¦æˆ·ä½™é¢ä¸è¶³æˆ–éœ€è¦ä»˜è´¹\n\nğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š\n1. ç™»å½• DeepSeek å¹³å°å……å€¼è´¦æˆ·\n2. æ£€æŸ¥APIä½¿ç”¨é…é¢\n3. æˆ–è€…ä½¿ç”¨ä¸‹æ–¹çš„"æ¨¡æ‹Ÿåˆ†æ"åŠŸèƒ½';
                 } else if (error.message.includes('401')) {
                     errorMessage += '\nâŒ é”™è¯¯åŸå› ï¼šAPIå¯†é’¥æ— æ•ˆ\n\nğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š\n1. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®\n2. ç¡®è®¤å¯†é’¥æ˜¯å¦å·²æ¿€æ´»\n3. é‡æ–°ç”Ÿæˆæ–°çš„APIå¯†é’¥';
                 } else if (error.message.includes('403')) {
                     errorMessage += '\nâŒ é”™è¯¯åŸå› ï¼šè®¿é—®è¢«æ‹’ç»\n\nğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š\n1. æ£€æŸ¥APIå¯†é’¥æƒé™\n2. ç¡®è®¤è´¦æˆ·çŠ¶æ€æ­£å¸¸';
                 } else if (error.message.includes('429')) {
                     errorMessage += '\nâŒ é”™è¯¯åŸå› ï¼šè¯·æ±‚é¢‘ç‡è¿‡é«˜\n\nğŸ’¡ è§£å†³æ–¹æ¡ˆï¼š\n1. ç¨ç­‰ç‰‡åˆ»åé‡è¯•\n2. é™ä½è¯·æ±‚é¢‘ç‡';
                 } else {
                     errorMessage += '\n\nğŸ’¡ å¸¸è§è§£å†³æ–¹æ¡ˆï¼š\n1. æ£€æŸ¥ç½‘ç»œè¿æ¥\n2. éªŒè¯APIå¯†é’¥æ­£ç¡®æ€§\n3. ç¡®è®¤è´¦æˆ·ä½™é¢å……è¶³\n4. æˆ–ä½¿ç”¨æ¨¡æ‹Ÿåˆ†æåŠŸèƒ½';
                 }
                 
                 throw new Error(errorMessage);
             }
        }
        
        function formatAIResponse(aiResponse) {
            // å°†AIçš„æ–‡æœ¬å“åº”æ ¼å¼åŒ–ä¸ºHTML
            const formattedResponse = aiResponse
                .replace(/\n/g, '<br>')
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>');
            
            return `
                <h4 class="result-item typewriter">ğŸ¤– DeepSeek AI åˆ†æç»“æœï¼š</h4>
                <div class="result-item" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 10px 0;">
                    ${formattedResponse}
                </div>
                <hr class="result-item">
                <p class="result-item"><strong>ğŸ’¡ æç¤ºï¼š</strong>AIåˆ†æç»“æœå·²è‡ªåŠ¨å¡«å……åˆ°å•†å“ç‰¹å¾ä¸­ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´ã€‚</p>
            `;
        }
        
        function autoFillFeaturesFromAI(analysisResult) {
            // ä»AIåˆ†æç»“æœä¸­æ™ºèƒ½æå–ç‰¹å¾
            let features = [];
            
            try {
                // å°è¯•ä»AIå“åº”ä¸­æå–ç‰¹å¾ä¿¡æ¯
                // è¿™é‡Œä½¿ç”¨ç®€å•çš„æ–‡æœ¬è§£æï¼Œå®é™…åº”ç”¨ä¸­å¯èƒ½éœ€è¦æ›´å¤æ‚çš„è§£æé€»è¾‘
                const text = analysisResult.replace(/<[^>]*>/g, ''); // ç§»é™¤HTMLæ ‡ç­¾
                
                // æŸ¥æ‰¾å¯èƒ½çš„ç‰¹å¾å…³é”®è¯
                const featureKeywords = [
                    'æ— çº¿', 'è“ç‰™', 'é˜²æ°´', 'å¿«å……', 'é•¿ç»­èˆª', 'è½»ä¾¿', 'ä¾¿æº', 'æ™ºèƒ½',
                    'é«˜æ¸…', 'é™å™ª', 'èˆ’é€‚', 'è€ç”¨', 'å¤šåŠŸèƒ½', 'èŠ‚èƒ½', 'å®‰å…¨', 'æ—¶å°š',
                    'ä¸“ä¸š', 'é«˜æ•ˆ', 'ç¨³å®š', 'ç²¾å‡†', 'åˆ›æ–°', 'ä¼˜è´¨', 'å®ç”¨', 'ç»æµ'
                ];
                
                // ä»æ–‡æœ¬ä¸­åŒ¹é…ç‰¹å¾
                featureKeywords.forEach(keyword => {
                    if (text.includes(keyword) && features.length < 6) {
                        features.push(keyword);
                    }
                });
                
                // å¦‚æœæ²¡æœ‰æ‰¾åˆ°è¶³å¤Ÿçš„ç‰¹å¾ï¼Œæ·»åŠ ä¸€äº›é€šç”¨ç‰¹å¾
                if (features.length < 3) {
                    features = features.concat(['é«˜å“è´¨', 'ç”¨æˆ·å‹å¥½', 'æ€§ä»·æ¯”é«˜'].slice(0, 3 - features.length));
                }
                
            } catch (error) {
                console.error('ç‰¹å¾æå–å¤±è´¥:', error);
                // ä½¿ç”¨é»˜è®¤ç‰¹å¾
                features = ['é«˜å“è´¨', 'åˆ›æ–°è®¾è®¡', 'ç”¨æˆ·å‹å¥½', 'æ€§ä»·æ¯”é«˜'];
            }
            
            // æ¸…ç©ºç°æœ‰ç‰¹å¾å¹¶å¡«å……æ–°ç‰¹å¾
            const featuresDiv = document.getElementById('features');
            featuresDiv.innerHTML = '';
            
            features.forEach((feature, index) => {
                const featureContainer = document.createElement('div');
                featureContainer.className = 'feature-container';
                featureContainer.innerHTML = `
                    <input type="text" class="feature-input" value="${feature}" placeholder="è¯·è¾“å…¥å•†å“ç‰¹å¾æè¿°ï¼ˆä¸­æ–‡ï¼‰ï¼šå¦‚"å¯æŠ˜å "ã€"è½»ä¾¿"">
                    ${index === 0 ? 
                        '<button class="add-btn" onclick="addFeature()">+</button>' : 
                        '<button class="remove-btn" onclick="removeFeature(this)">-</button><button class="add-btn" onclick="addFeature()">+</button>'
                    }
                `;
                featuresDiv.appendChild(featureContainer);
            });
        }
        
        function clearForm() {
            // æ·»åŠ æ¸…é™¤åŠ¨ç”»æ•ˆæœ
            const elements = [
                document.getElementById('productName'),
                document.getElementById('competitorLink'),
                document.getElementById('features'),
                document.getElementById('resultArea'),
                document.getElementById('competitorAnalysis')
            ];
            
            // ä¸ºæ¯ä¸ªå…ƒç´ æ·»åŠ æ·¡å‡ºåŠ¨ç”»
            elements.forEach((element, index) => {
                if (element) {
                    element.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                    element.style.opacity = '0';
                    element.style.transform = 'translateY(-10px)';
                    
                    setTimeout(() => {
                        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                            element.value = '';
                        } else if (element.id === 'features') {
                            // æ¸…é™¤ç‰¹å¾ï¼Œåªä¿ç•™ä¸€ä¸ªç©ºè¾“å…¥æ¡†
                            element.innerHTML = `
                                <div class="feature-container">
                                    <input type="text" class="feature-input" placeholder="è¯·è¾“å…¥å•†å“ç‰¹å¾æè¿°ï¼ˆä¸­æ–‡ï¼‰ï¼šå¦‚"å¯æŠ˜å "ã€"è½»ä¾¿"">
                                    <button class="add-btn" onclick="addFeature()">+</button>
                                </div>
                            `;
                        } else {
                            element.style.display = 'none';
                            if (element.id === 'competitorAnalysis') {
                                element.classList.remove('show');
                            }
                        }
                        
                        // æ¢å¤å…ƒç´ 
                        element.style.opacity = '1';
                        element.style.transform = 'translateY(0)';
                    }, 150 + index * 50);
                }
            });
            
            showToast('ğŸ§¹ è¡¨å•å·²æ¸…ç©º');
        }
        
        // APIå¯†é’¥ç®¡ç†åŠŸèƒ½
        function toggleApiKeyVisibility() {
            const apiKeyInput = document.getElementById('deepseekApiKey');
            const button = event.target;
            
            if (apiKeyInput.type === 'password') {
                apiKeyInput.type = 'text';
                button.textContent = 'ğŸ™ˆ';
                button.title = 'éšè—å¯†é’¥';
            } else {
                apiKeyInput.type = 'password';
                button.textContent = 'ğŸ‘ï¸';
                button.title = 'æ˜¾ç¤ºå¯†é’¥';
            }
        }
        
        function saveApiKey() {
            const apiKey = document.getElementById('deepseekApiKey').value.trim();
            if (!apiKey) {
                showToast('âŒ è¯·å…ˆè¾“å…¥APIå¯†é’¥');
                return;
            }
            
            if (!apiKey.startsWith('sk-')) {
                showToast('âŒ APIå¯†é’¥æ ¼å¼ä¸æ­£ç¡®ï¼Œåº”ä»¥ sk- å¼€å¤´');
                return;
            }
            
            try {
                localStorage.setItem('deepseek_api_key', apiKey);
                showToast('âœ… APIå¯†é’¥å·²ä¿å­˜åˆ°æœ¬åœ°');
            } catch (error) {
                showToast('âŒ ä¿å­˜å¤±è´¥: ' + error.message);
            }
        }
        
        function loadApiKey() {
            try {
                const savedApiKey = localStorage.getItem('deepseek_api_key');
                if (savedApiKey) {
                    document.getElementById('deepseekApiKey').value = savedApiKey;
                    showToast('âœ… å·²åŠ è½½ä¿å­˜çš„APIå¯†é’¥');
                }
            } catch (error) {
                console.error('åŠ è½½APIå¯†é’¥å¤±è´¥:', error);
            }
        }
        
        // åŠ è½½åŠ¨ç”»æ§åˆ¶å‡½æ•°
        function showLoadingAnimation(isMock = false) {
            const loadingContainer = document.getElementById('loadingContainer');
            const loadingText = document.getElementById('loadingText');
            const progressFill = document.getElementById('progressFill');
            
            // è®¾ç½®åŠ è½½æ–‡æœ¬
            loadingText.textContent = isMock ? 'ğŸ­ æ­£åœ¨è¿›è¡Œæ¨¡æ‹Ÿåˆ†æ...' : 'ğŸ” æ­£åœ¨è°ƒç”¨DeepSeekåˆ†æç«å“...';
            
            // æ˜¾ç¤ºåŠ è½½å®¹å™¨
            loadingContainer.style.display = 'block';
            loadingContainer.classList.add('fade-in');
            
            // é‡ç½®è¿›åº¦æ¡
            progressFill.style.width = '0%';
            
            // é‡ç½®æ­¥éª¤çŠ¶æ€
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });
            
            // æ¨¡æ‹Ÿè¿›åº¦æ›´æ–°
            simulateProgress();
        }
        
        function hideLoadingAnimation() {
            const loadingContainer = document.getElementById('loadingContainer');
            loadingContainer.style.display = 'none';
            loadingContainer.classList.remove('fade-in');
        }
        
        function simulateProgress() {
            const steps = ['step1', 'step2', 'step3', 'step4'];
            const progressFill = document.getElementById('progressFill');
            let currentStep = 0;
            
            const updateProgress = () => {
                if (currentStep < steps.length) {
                    // æ¿€æ´»å½“å‰æ­¥éª¤
                    document.getElementById(steps[currentStep]).classList.add('active');
                    
                    // æ›´æ–°è¿›åº¦æ¡
                    const progress = ((currentStep + 1) / steps.length) * 100;
                    progressFill.style.width = progress + '%';
                    
                    currentStep++;
                    
                    // éšæœºå»¶è¿Ÿï¼Œæ¨¡æ‹ŸçœŸå®çš„å¤„ç†æ—¶é—´
                    const delay = Math.random() * 800 + 400; // 400-1200ms
                    setTimeout(updateProgress, delay);
                }
            };
            
            updateProgress();
        }
        
        // AIæ¨¡å‹é€‰æ‹©å¤„ç†å‡½æ•°
        function onAiModelChange() {
            const aiModel = document.getElementById('aiModel').value;
            
            // è·å–DeepSeeké…ç½®åŒºåŸŸ
            const deepseekConfig = document.getElementById('deepseekConfig');
            const deepseekHelp = document.getElementById('deepseekHelp');
            
            // éšè—é…ç½®åŒºåŸŸ
            if (deepseekConfig) deepseekConfig.style.display = 'none';
            deepseekHelp.style.display = 'none';
            
            // æ˜¾ç¤ºDeepSeeké…ç½®åŒºåŸŸ
            if (aiModel === 'deepseek') {
                if (deepseekConfig) deepseekConfig.style.display = 'block';
                deepseekHelp.style.display = 'block';
            }
        }
        

        

        

        

        
        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½ä¿å­˜çš„APIå¯†é’¥
        window.addEventListener('load', function() {
            loadApiKey();
            onAiModelChange(); // åˆå§‹åŒ–AIæ¨¡å‹é€‰æ‹©çŠ¶æ€
        })
    </script>
</body>
</html>