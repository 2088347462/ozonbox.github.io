<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI产品背景图提示词生成器 - 专业电商摄影提示词</title>
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .main-content {
            padding: 40px;
        }
        
        .step-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .step-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .step-card:hover {
            border-color: #4CAF50;
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(76, 175, 80, 0.1);
        }
        
        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .step-number {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }
        
        .step-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }
        
        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }
        
        .upload-area:hover {
            border-color: #4CAF50;
            background-color: #f8fff8;
        }
        
        .upload-area.dragover {
            border-color: #4CAF50;
            background-color: #f0f8f0;
        }
        
        .upload-icon {
            font-size: 48px;
            color: #ddd;
            margin-bottom: 15px;
        }
        
        .upload-text {
            color: #666;
            font-size: 16px;
        }
        
        .file-input {
            display: none;
        }
        
        .preview-container {
            margin-top: 20px;
            text-align: center;
        }
        
        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .generate-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }
        
        .generate-btn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }
        
        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 175, 80, 0.3);
        }
        
        .generate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* 移除了结果展示相关样式 */
        
        /* 移除了加载动画相关样式 */
        
        .tutorial-section {
            background: #e8f5e8;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }
        
        .tutorial-title {
            font-size: 24px;
            font-weight: 600;
            color: #2E7D32;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .tutorial-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .tutorial-step {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .tutorial-step-icon {
            font-size: 36px;
            color: #4CAF50;
            margin-bottom: 15px;
        }
        
        .tutorial-step-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 10px;
        }
        
        .tutorial-step-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.5;
        }
        
        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            color: #333;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .back-btn:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        /* 工作流程图样式 */
        .workflow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .scene-item:hover {
            transform: scale(1.05);
        }
        
        .scene-description {
            transition: background-color 0.3s ease;
        }
        
        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }
            
            .step-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            /* 工作流程图响应式 */
            .workflow-container {
                flex-direction: column;
                align-items: center;
            }
            
            .workflow-arrow {
                transform: rotate(90deg);
                margin: 10px 0;
            }
            
            .workflow-step {
                max-width: 300px;
                width: 100%;
            }
            
            .scene-gallery {
                gap: 10px;
            }
            
            .scene-item svg {
                width: 80px;
                height: 56px;
            }
            
            .workflow-section {
                padding: 20px;
            }
            
            .scene-demo {
                padding: 20px;
            }
        }
        
        @media (max-width: 480px) {
            .workflow-section h2 {
                font-size: 22px;
            }
            
            .scene-demo h3 {
                font-size: 18px;
            }
            
            .workflow-step {
                padding: 15px;
                min-width: 180px;
            }
            
            .step-description h3 {
                font-size: 14px;
            }
            
            .step-description p {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <a href="ai-tools.html" class="back-btn">
        <i class="fas fa-arrow-left"></i>
        返回AI工具
    </a>
    
    <div class="container">
        <div class="header">
            <h1><i class="fas fa-magic"></i> AI产品背景图提示词生成器</h1>
            <p>选择产品类型和场景风格，生成专业的产品背景图提示词</p>
        </div>
        
        <div class="main-content">
            <!-- 工作流程图演示区域 -->
            <div class="workflow-section" style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 15px; padding: 30px; margin-bottom: 30px;">
                <h2 style="text-align: center; color: #333; margin-bottom: 30px; font-size: 28px; font-weight: 600;">🔄 AI产品背景图生成工作流</h2>
                <div class="workflow-container" style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-bottom: 40px;">
                    <div class="workflow-step" style="display: flex; flex-direction: column; align-items: center; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; max-width: 250px;">
                        <div class="step-image" style="margin-bottom: 15px;">
                            <svg width="150" height="100" viewBox="0 0 150 100">
                                <rect x="10" y="10" width="130" height="80" rx="8" fill="#f0f0f0" stroke="#ddd" stroke-width="2"/>
                                <circle cx="75" cy="50" r="20" fill="#4CAF50"/>
                                <text x="75" y="55" text-anchor="middle" fill="white" font-size="10" font-weight="bold">产品</text>
                                <text x="75" y="90" text-anchor="middle" fill="#666" font-size="9">原始产品图</text>
                            </svg>
                        </div>
                        <div class="step-description" style="text-align: center;">
                            <h3 style="color: #4CAF50; margin-bottom: 8px; font-size: 16px;">步骤1: 选择产品类型</h3>
                            <p style="color: #666; font-size: 14px; line-height: 1.4; margin: 0;">选择您的产品类别，系统将分析产品特征</p>
                        </div>
                    </div>
                    
                    <div class="workflow-arrow" style="display: flex; align-items: center; color: #4CAF50; font-size: 24px; font-weight: bold;">→</div>
                    
                    <div class="workflow-step" style="display: flex; flex-direction: column; align-items: center; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; max-width: 250px;">
                        <div class="step-image" style="margin-bottom: 15px;">
                            <img src="../images/1生成提示词.png" alt="AI生成提示词" style="width: 150px; height: 100px; object-fit: contain; border-radius: 8px;">
                        </div>
                        <div class="step-description" style="text-align: center;">
                            <h3 style="color: #2196F3; margin-bottom: 8px; font-size: 16px;">步骤2: AI生成提示词</h3>
                            <p style="color: #666; font-size: 14px; line-height: 1.4; margin: 0;">AI根据产品类型和风格偏好，自动生成专业的背景图提示词</p>
                        </div>
                    </div>
                    
                    <div class="workflow-arrow" style="display: flex; align-items: center; color: #4CAF50; font-size: 24px; font-weight: bold;">→</div>
                    
                    <div class="workflow-step" style="display: flex; flex-direction: column; align-items: center; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; max-width: 250px;">
                        <div class="step-image" style="margin-bottom: 15px;">
                            <img src="../images/2生成背景.png" alt="AI生成背景图" style="width: 150px; height: 100px; object-fit: contain; border-radius: 8px;">
                        </div>
                        <div class="step-description" style="text-align: center;">
                            <h3 style="color: #FF9800; margin-bottom: 8px; font-size: 16px;">步骤3: 生成背景图</h3>
                            <p style="color: #666; font-size: 14px; line-height: 1.4; margin: 0;">使用生成的提示词在AI工具中创建专业的产品背景图</p>
                        </div>
                    </div>
                    
                    <div class="workflow-arrow" style="display: flex; align-items: center; color: #4CAF50; font-size: 24px; font-weight: bold;">→</div>
                    
                    <div class="workflow-step" style="display: flex; flex-direction: column; align-items: center; background: white; border-radius: 12px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; max-width: 250px;">
                        <div class="step-image" style="margin-bottom: 15px;">
                            <img src="../images/3图片融合.png" alt="图片融合" style="width: 150px; height: 100px; object-fit: contain; border-radius: 8px;">
                        </div>
                        <div class="step-description" style="text-align: center;">
                            <h3 style="color: #9C27B0; margin-bottom: 8px; font-size: 16px;">步骤4: 图片融合</h3>
                            <p style="color: #666; font-size: 14px; line-height: 1.4; margin: 0;">将产品图与背景图进行智能融合，生成专业的产品展示图</p>
                        </div>
                    </div>
                </div>
                
                <!-- 场景切换演示 -->
                <div class="scene-demo" style="background: rgba(255,255,255,0.8); border-radius: 12px; padding: 25px;">
                    <h3 style="text-align: center; color: #333; margin-bottom: 20px; font-size: 20px;">🎨 多场景效果展示</h3>
                    <div class="scene-gallery" style="display: flex; justify-content: center; gap: 15px; flex-wrap: wrap; margin-bottom: 20px;">
                        <div class="scene-item" onclick="showSceneDemo('premium')" style="cursor: pointer; transition: transform 0.3s ease; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <svg width="100" height="70" viewBox="0 0 100 70">
                                <rect width="100" height="70" rx="4" fill="#1a1a1a"/>
                                <circle cx="50" cy="35" r="15" fill="#FFD700"/>
                                <text x="50" y="39" text-anchor="middle" fill="#1a1a1a" font-size="7" font-weight="bold">产品</text>
                                <text x="50" y="60" text-anchor="middle" fill="#FFD700" font-size="7">高端奢华</text>
                            </svg>
                        </div>
                        <div class="scene-item" onclick="showSceneDemo('natural')" style="cursor: pointer; transition: transform 0.3s ease; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <svg width="100" height="70" viewBox="0 0 100 70">
                                <rect width="100" height="70" rx="4" fill="#E8F5E8"/>
                                <circle cx="50" cy="35" r="15" fill="#4CAF50"/>
                                <text x="50" y="39" text-anchor="middle" fill="white" font-size="7" font-weight="bold">产品</text>
                                <circle cx="25" cy="18" r="4" fill="#8BC34A" opacity="0.6"/>
                                <circle cx="75" cy="52" r="5" fill="#8BC34A" opacity="0.4"/>
                                <text x="50" y="60" text-anchor="middle" fill="#4CAF50" font-size="7">自然清新</text>
                            </svg>
                        </div>
                        <div class="scene-item" onclick="showSceneDemo('tech')" style="cursor: pointer; transition: transform 0.3s ease; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <svg width="100" height="70" viewBox="0 0 100 70">
                                <rect width="100" height="70" rx="4" fill="#0D47A1"/>
                                <circle cx="50" cy="35" r="15" fill="#2196F3"/>
                                <text x="50" y="39" text-anchor="middle" fill="white" font-size="7" font-weight="bold">产品</text>
                                <rect x="15" y="10" width="70" height="2" fill="#00BCD4" opacity="0.6"/>
                                <rect x="15" y="58" width="70" height="2" fill="#00BCD4" opacity="0.6"/>
                                <text x="50" y="60" text-anchor="middle" fill="#2196F3" font-size="7">科技未来</text>
                            </svg>
                        </div>
                        <div class="scene-item" onclick="showSceneDemo('artistic')" style="cursor: pointer; transition: transform 0.3s ease; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1);" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                            <svg width="100" height="70" viewBox="0 0 100 70">
                                <defs>
                                    <linearGradient id="artisticGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#E91E63;stop-opacity:0.8" />
                                        <stop offset="50%" style="stop-color:#9C27B0;stop-opacity:0.6" />
                                        <stop offset="100%" style="stop-color:#3F51B5;stop-opacity:0.8" />
                                    </linearGradient>
                                </defs>
                                <rect width="100" height="70" rx="4" fill="url(#artisticGrad)"/>
                                <circle cx="50" cy="35" r="15" fill="white" opacity="0.9"/>
                                <text x="50" y="39" text-anchor="middle" fill="#9C27B0" font-size="7" font-weight="bold">产品</text>
                                <text x="50" y="60" text-anchor="middle" fill="white" font-size="7">艺术创意</text>
                            </svg>
                        </div>
                    </div>
                    <div id="sceneDescription" class="scene-description" style="text-align: center; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 8px; border-left: 4px solid #4CAF50;">
                        <p style="margin: 0; color: #333; font-size: 14px; line-height: 1.5;">💡 点击上方场景图片，查看不同风格的产品背景效果演示。每种风格都有专门优化的提示词模板，确保生成最佳的产品展示效果。</p>
                    </div>
                </div>
            </div>
            
            <!-- 教程说明 -->
            <div class="tutorial-section">
                <h2 class="tutorial-title">🎯 使用教程</h2>
                <div class="tutorial-steps">
                    <div class="tutorial-step">
                        <div class="tutorial-step-icon">
                            <i class="fas fa-palette"></i>
                        </div>
                        <div class="tutorial-step-title">选择产品类型</div>
                        <div class="tutorial-step-desc">从下方选择您的产品类别</div>
                    </div>
                    <div class="tutorial-step">
                        <div class="tutorial-step-icon">
                            <i class="fas fa-magic"></i>
                        </div>
                        <div class="tutorial-step-title">选择场景风格</div>
                        <div class="tutorial-step-desc">选择适合的摄影场景风格</div>
                    </div>
                    <div class="tutorial-step">
                        <div class="tutorial-step-icon">
                            <i class="fas fa-download"></i>
                        </div>
                        <div class="tutorial-step-title">复制提示词</div>
                        <div class="tutorial-step-desc">复制生成的专业提示词到AI工具</div>
                    </div>
                </div>
            </div>
            
            <!-- 提示词生成区域 -->
            <div class="prompt-section" style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; color: white;">
                <h3 style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                    <span>🤖</span> AI背景图提示词生成器
                </h3>
                <p style="margin-bottom: 20px; opacity: 0.9;">根据您的产品类型，我们为您生成专业的AI背景图提示词，可直接在豆包AI中使用</p>
                
                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500;">产品类型：</label>
                    <select id="productType" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;">
                        <option value="baby">母婴用品（奶瓶、玩具、婴儿用品等）</option>
                        <option value="beauty">美妆护肤（化妆品、护肤品等）</option>
                        <option value="electronics">电子产品（手机、耳机、手表等）</option>
                        <option value="food">食品饮料（零食、饮品、保健品等）</option>
                        <option value="home">家居用品（装饰品、小家电等）</option>
                        <option value="clothing">服装配饰（T恤、包包、首饰等）</option>
                        <option value="health">健康保健（保健品、医疗器械等）</option>
                        <option value="sports">运动户外（运动器材、户外用品等）</option>
                        <option value="jewelry">珠宝首饰（戒指、项链、手表等）</option>
                        <option value="books">图书文具（书籍、笔记本、文具等）</option>
                        <option value="toys">玩具游戏（益智玩具、模型等）</option>
                        <option value="automotive">汽车用品（车载设备、装饰等）</option>
                        <option value="pets">宠物用品（宠物食品、玩具等）</option>
                        <option value="digital">数码配件（充电器、数据线等）</option>
                    </select>
                </div>

                <div style="margin-bottom: 20px;">
                    <label style="display: block; margin-bottom: 8px; font-weight: 500;">摄影风格：</label>
                    <select id="photoStyle" style="width: 100%; padding: 12px; border: none; border-radius: 8px; font-size: 16px;">
                        <option value="premium">高端奢华风</option>
                        <option value="natural">自然清新风</option>
                        <option value="modern">现代简约风</option>
                        <option value="warm">温馨居家风</option>
                        <option value="tech">科技感风格</option>
                        <option value="artistic">艺术创意风</option>
                        <option value="vintage">复古怀旧风</option>
                        <option value="minimalist">极简主义风</option>
                        <option value="industrial">工业风格</option>
                        <option value="romantic">浪漫梦幻风</option>
                        <option value="professional">专业商务风</option>
                        <option value="lifestyle">生活方式风</option>
                    </select>
                </div>

                <button onclick="generateBackgroundPrompt()" style="width: 100%; padding: 15px; background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.3); border-radius: 10px; color: white; font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; backdrop-filter: blur(10px);" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                    🎯 生成背景图提示词
                </button>

                <div id="promptResult" style="margin-top: 20px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 10px; border: 1px solid rgba(255,255,255,0.2); display: none;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                        <h4 style="margin: 0;">📝 生成的背景图提示词：</h4>
                        <button onclick="copyPrompt()" style="padding: 8px 16px; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); border-radius: 6px; color: white; cursor: pointer; font-size: 14px;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                            📋 复制提示词
                        </button>
                    </div>
                    <div id="promptText" style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 8px; font-family: monospace; line-height: 1.6; white-space: pre-wrap;"></div>
                    
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; border-left: 4px solid #ffd700;">
                        <h5 style="margin: 0 0 10px 0; color: #ffd700;">💡 使用说明：</h5>
                        <ol style="margin: 0; padding-left: 20px; line-height: 1.6;">
                            <li>复制上方生成的背景图提示词</li>
                            <li>点击下方按钮跳转到豆包AI</li>
                            <li>在豆包AI中粘贴提示词</li>
                            <li>上传您的产品图片</li>
                            <li>等待AI生成专业背景图</li>
                        </ol>
                    </div>

                    <a href="https://www.doubao.com/chat/" target="_blank" style="display: inline-block; width: 100%; margin-top: 15px; padding: 15px; background: linear-gradient(45deg, #ff6b6b, #ee5a24); border: none; border-radius: 10px; color: white; text-decoration: none; font-size: 16px; font-weight: 600; text-align: center; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(0,0,0,0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">
                        🚀 跳转到豆包AI生成背景图
                    </a>
                </div>
            </div>
            

            
            <!-- 移除了加载动画和结果展示区域 -->
        </div>
    </div>
    
    <script>
        let productImageData = null;
        
        // 文件上传处理
        const productImageInput = document.getElementById('productImage');
        if (productImageInput) {
            productImageInput.addEventListener('change', function(e) {
                handleImageUpload(e, 'productPreview', (data) => {
                    productImageData = data;
                    checkBackgroundReady();
                });
            });
        }
        
        function handleImageUpload(event, previewId, callback) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const previewContainer = document.getElementById(previewId);
                    previewContainer.innerHTML = `
                        <img src="${e.target.result}" class="preview-image" alt="预览图">
                        <p style="margin-top: 10px; color: #666;">${file.name}</p>
                    `;
                    callback(e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }
        
        function checkBackgroundReady() {
            const backgroundBtn = document.getElementById('backgroundBtn');
            if (backgroundBtn) {
                if (productImageData) {
                    backgroundBtn.disabled = false;
                    backgroundBtn.style.background = 'linear-gradient(135deg, #4CAF50, #2E7D32)';
                    backgroundBtn.innerHTML = '<i class="fas fa-magic"></i> 生成背景图提示词';
                } else {
                    backgroundBtn.disabled = true;
                    backgroundBtn.style.background = '#ccc';
                }
            }
        }
        
        function scrollToPromptSection() {
            document.querySelector('.prompt-section').scrollIntoView({ 
                behavior: 'smooth',
                block: 'center'
            });
        }
        
        function generateBackgroundPrompt() {
            const productType = document.getElementById('productType').value;
            const photoStyle = document.getElementById('photoStyle').value;
            
            const prompts = {
                baby: {
                    premium: "【高端母婴产品摄影风格】产品主体置于浅米色天然亚麻布基底上，背景采用莫兰迪色系渐变卡纸（粉蓝-米白过渡），左侧45°角斜射柔和自然光形成玻璃折射光斑，右下角点缀3片新鲜薄荷叶与1颗饱满露珠，右上角悬浮半透明安全认证标识（淡绿色荧光效果）。整体构图遵循黄金分割，景深控制在产品前1/3处，阴影呈现柔和渐变的椭圆形，色调以低饱和度粉白为主，营造安全、纯净、科技感兼具的高端母婴护理产品氛围。",
                    natural: "【自然清新母婴摄影】产品置于白色棉质纹理布料上，背景为淡绿色渐变，周围散落几片嫩绿叶子和小雏菊，柔和的顶光营造温馨氛围，产品投影清晰但柔和，整体色调清新自然，体现产品的天然安全特性。",
                    modern: "【现代简约母婴风格】产品居中放置在纯白色亚克力台面上，背景为渐变灰白色，几何形状的装饰元素点缀，冷色调LED灯光，阴影简洁利落，整体风格现代简约，突出产品的科技感和专业性。",
                    warm: "【温馨居家母婴场景】产品放置在木质纹理桌面上，背景为温暖的米黄色墙面，旁边有毛绒玩具和婴儿用品作为道具，暖色调灯光营造家庭氛围，整体画面温馨舒适，体现产品的家庭使用场景。",
                    tech: "【科技感母婴产品】产品置于反光的黑色亚克力表面，背景为深蓝色渐变，周围有发光的科技元素和数据图表，冷白色LED灯光，营造未来科技感，突出产品的智能化特性。",
                    artistic: "【艺术创意母婴摄影】产品作为画面焦点，周围用水彩风格的色彩渲染，柔和的色彩过渡，艺术化的光影效果，背景虚化处理，整体风格富有艺术感和创意性。"
                },
                beauty: {
                    premium: "【高端美妆产品摄影】产品置于白色大理石纹理台面，背景为渐变金色丝绸质感，45度角柔光照射产生高级质感，周围点缀金色几何装饰元素，产品包装反射出精致光泽，整体色调奢华典雅，营造高端美妆品牌氛围。",
                    natural: "【自然美妆摄影风格】产品放置在天然木质纹理表面，背景为柔和的米色渐变，周围散落新鲜花瓣和绿叶，自然光线柔和温暖，强调产品的天然成分和温和特性。",
                    modern: "【现代简约美妆】产品居中置于纯白色背景，几何形状的彩色装饰元素，冷色调LED灯光，阴影清晰简洁，整体风格现代时尚，突出产品的创新设计。",
                    warm: "【温馨美妆场景】产品置于粉色丝绒布料上，背景为温暖的粉金色渐变，柔和的暖光营造浪漫氛围，周围有化妆刷和镜子等道具，体现日常美妆使用场景。",
                    tech: "【科技美妆风格】产品置于反光黑色表面，背景为深紫色渐变，周围有发光的科技线条和粒子效果，冷白光照射，营造未来科技美妆感。",
                    artistic: "【艺术美妆摄影】产品作为视觉焦点，周围用抽象的色彩和光影效果，艺术化的构图和色彩搭配，富有创意和艺术感的整体呈现。"
                },
                food: {
                    premium: "【高端食品摄影】产品置于大理石台面，背景为深色木质纹理，顶部柔光照射产生自然阴影，周围点缀新鲜食材和精致餐具，整体色调温暖高雅，突出产品的品质和美味。",
                    natural: "【自然有机风格】产品放置在原木桌面，背景为自然田园风光，温暖的自然光线，周围有新鲜蔬果和绿植装饰，营造健康自然的氛围。",
                    modern: "【现代简约食品】产品居中置于纯白背景，几何形状盘子，简洁的摆盘设计，明亮均匀的光线，整体风格现代简约，突出产品本身。",
                    warm: "【温馨家庭场景】产品置于温暖的厨房环境，柔和的暖光照射，背景为舒适的家居空间，强调产品与家庭生活的融合。",
                    tech: "【科技感包装】产品置于现代化的展示台，背景为科技感的环境，冷色调灯光，突出产品的现代包装和品质保证。",
                    artistic: "【艺术美食摄影】产品作为视觉焦点，周围用艺术化的摆盘和色彩搭配，创意性的构图和光影效果，富有艺术感的整体呈现。"
                },
                health: {
                    premium: "【高端健康产品摄影】产品置于白色医疗级台面，背景为渐变蓝白色，专业医疗灯光照射，周围点缀医疗器械和健康元素，整体氛围专业可信，突出产品的医疗级品质。",
                    natural: "【天然健康风格】产品放置在天然竹制台面，背景为绿色植物和自然光线，温暖的自然光照射，周围有草本植物和天然元素，营造健康自然的氛围。",
                    modern: "【现代健康科技】产品居中置于纯白背景，简洁的科技感装饰，明亮均匀的光线，整体风格现代专业，突出产品的科技含量。",
                    warm: "【温馨健康场景】产品置于温暖的家庭环境，柔和的暖光照射，背景为舒适的居家空间，强调产品与健康生活的融合。",
                    tech: "【科技健康感】产品置于现代化的实验室环境，背景为科技感的医疗设备，冷白光照射，突出产品的科技创新。",
                    artistic: "【艺术健康摄影】产品作为视觉焦点，周围用健康主题的艺术元素，创意性的构图和光影效果，富有艺术感的健康理念呈现。"
                },
                sports: {
                    premium: "【高端运动产品摄影】产品置于专业运动场地，背景为现代化体育设施，专业运动灯光照射，周围点缀专业运动器材，整体氛围专业运动，突出产品的专业级品质。",
                    natural: "【户外运动风格】产品放置在自然户外环境，背景为山川湖泊或森林，自然光线照射，周围有户外运动元素，营造自由运动的氛围。",
                    modern: "【现代运动科技】产品居中置于简洁的运动场景，几何形状的运动装饰，明亮的运动灯光，整体风格现代动感，突出产品的科技功能。",
                    warm: "【温馨运动场景】产品置于温暖的健身房环境，柔和的暖光照射，背景为舒适的运动空间，强调产品与日常运动的融合。",
                    tech: "【科技运动感】产品置于未来感的运动实验室，背景为高科技运动设备，冷色调灯光，突出产品的科技创新和性能。",
                    artistic: "【艺术运动摄影】产品作为视觉焦点，周围用动感的艺术元素和运动轨迹，创意性的构图和光影效果，富有艺术感的运动美学呈现。"
                },
                clothing: {
                     premium: "【高端服装配饰摄影】产品置于奢华展示台，背景为高端时装店环境，专业时装灯光照射，周围点缀精致装饰元素，整体氛围奢华典雅，突出产品的高端品质。",
                     natural: "【自然休闲风格】产品放置在自然环境中，背景为户外或简约室内，自然光线照射，周围有自然元素装饰，营造轻松自然的穿搭氛围。",
                     modern: "【现代时尚风格】产品居中置于简洁的时尚背景，几何形状的装饰元素，明亮的时装灯光，整体风格现代简约，突出产品的设计感。",
                     warm: "【温馨生活场景】产品置于温暖的生活环境，柔和的暖光照射，背景为舒适的居家或咖啡厅空间，强调产品的日常穿搭魅力。",
                     tech: "【科技时尚感】产品置于现代化的展示空间，背景为科技感的环境，冷色调灯光，突出产品的创新设计和功能性。",
                     artistic: "【艺术时尚摄影】产品作为视觉焦点，周围用艺术化的色彩和光影效果，创意性的构图和视觉呈现，富有艺术感的时尚美学。",
                     vintage: "【复古时尚风格】产品置于复古装饰的环境中，暖色调灯光，背景有复古家具和装饰品，营造怀旧时尚氛围。",
                     minimalist: "【极简主义风格】产品置于纯净的白色或灰色背景，极简的线条设计，均匀柔和的光线，突出产品本身的设计美学。",
                     industrial: "【工业风格摄影】产品置于工业风装饰环境，金属质感背景，冷色调灯光，突出产品的现代工业美感。",
                     romantic: "【浪漫梦幻风格】产品置于柔美的环境中，粉色或暖色调背景，柔和的光线，周围有花朵或丝绸装饰，营造浪漫氛围。",
                     professional: "【专业商务风格】产品置于现代办公环境，简洁专业的背景，明亮的商务灯光，突出产品的专业品质。",
                     lifestyle: "【生活方式风格】产品置于真实的生活场景中，自然的居家环境，温暖的生活光线，展现产品融入日常生活的美好。"
                 },
                 home: {
                     premium: "【高端家居摄影】产品置于豪华室内环境，背景为精装修的现代家居，专业室内灯光，周围有高端家具装饰，整体氛围奢华舒适。",
                     natural: "【自然家居风格】产品放置在自然光充足的室内，背景为木质家具和绿植，温暖的自然光线，营造舒适自然的居家氛围。",
                     modern: "【现代简约家居】产品居中置于现代简约的室内环境，几何线条设计，明亮均匀的灯光，突出产品的现代设计感。",
                     warm: "【温馨家庭场景】产品置于温暖的家庭环境，柔和的暖光照射，背景为舒适的客厅或卧室，强调家的温馨感。",
                     tech: "【智能家居风格】产品置于现代化的智能家居环境，科技感装饰，冷色调灯光，突出产品的科技功能。",
                     artistic: "【艺术家居摄影】产品作为视觉焦点，周围用艺术化的家居装饰，创意性的空间布局，富有艺术感的居住美学。",
                     vintage: "【复古家居风格】产品置于复古装饰的室内环境，古典家具背景，暖色调灯光，营造怀旧的家居氛围。",
                     minimalist: "【极简家居风格】产品置于极简的室内空间，纯净的背景，简洁的线条，突出产品的功能性和美观性。",
                     industrial: "【工业家居风格】产品置于工业风格的室内环境，裸露的砖墙或金属装饰，冷色调灯光，展现现代工业美学。",
                     romantic: "【浪漫家居风格】产品置于浪漫的室内环境，柔美的装饰和灯光，粉色或暖色调背景，营造温馨浪漫的居家氛围。",
                     professional: "【专业展示风格】产品置于专业的展示环境，简洁的背景，专业的产品摄影灯光，突出产品的专业品质。",
                     lifestyle: "【生活方式展示】产品置于真实的生活使用场景，自然的家居环境，展现产品在日常生活中的实用性和美观性。"
                  },
                  jewelry: {
                      premium: "【奢华珠宝摄影】产品置于黑色天鹅绒背景，专业珠宝灯光多角度照射，产生璀璨光芒效果，周围点缀钻石或水晶装饰，整体氛围奢华高贵。",
                      natural: "【自然光珠宝】产品放置在自然光线下，背景为大理石或木质纹理，温暖的自然光照射，展现珠宝的天然美感。",
                      modern: "【现代珠宝风格】产品居中置于简洁的几何背景，冷色调灯光，现代感装饰元素，突出珠宝的设计感和工艺。",
                      warm: "【温馨珠宝场景】产品置于温暖的环境中，柔和的暖光照射，背景为舒适的室内空间，强调珠宝的情感价值。",
                      tech: "【科技珠宝感】产品置于未来感的展示台，LED灯光效果，科技感背景，突出珠宝的现代工艺和创新设计。",
                      artistic: "【艺术珠宝摄影】产品作为艺术品展示，周围用抽象的光影和色彩效果，创意性构图，富有艺术感的珠宝美学。",
                      vintage: "【复古珠宝风格】产品置于古典装饰环境，复古金属背景，暖色调灯光，营造经典优雅的复古氛围。",
                      minimalist: "【极简珠宝风格】产品置于纯净的背景，极简的展示方式，均匀柔和的光线，突出珠宝本身的纯粹美感。",
                      industrial: "【工业珠宝风格】产品置于金属质感的工业环境，冷色调灯光，突出珠宝的现代工业设计美学。",
                      romantic: "【浪漫珠宝风格】产品置于浪漫的环境中，粉色或暖色调背景，柔和的光线，周围有花瓣或丝绸装饰，营造浪漫氛围。",
                      professional: "【专业珠宝展示】产品置于专业的珠宝展示环境，标准的珠宝摄影灯光，突出珠宝的专业品质和价值。",
                      lifestyle: "【生活珠宝风格】产品置于真实的生活场景中，自然的佩戴环境，展现珠宝在日常生活中的魅力和实用性。"
                  },
                  books: {
                      premium: "【高端图书摄影】产品置于精装书架环境，背景为古典图书馆或书房，专业阅读灯光，周围有古典装饰，整体氛围书香雅致。",
                      natural: "【自然阅读风格】产品放置在自然光充足的阅读环境，背景为木质书桌和绿植，温暖的自然光线，营造舒适的阅读氛围。",
                      modern: "【现代图书风格】产品居中置于现代简约的学习环境，几何线条设计，明亮的学习灯光，突出图书的现代设计感。",
                      warm: "【温馨阅读场景】产品置于温暖的家庭阅读环境，柔和的暖光照射，背景为舒适的客厅或书房，强调阅读的温馨感。",
                      tech: "【数字阅读风格】产品置于现代化的数字学习环境，科技感装饰，冷色调灯光，突出图书的知识科技价值。",
                      artistic: "【艺术图书摄影】产品作为艺术品展示，周围用艺术化的装饰和光影，创意性的构图，富有艺术感的知识美学。",
                      vintage: "【复古图书风格】产品置于复古装饰的书房环境，古典书架背景，暖色调灯光，营造怀旧的学习氛围。",
                      minimalist: "【极简图书风格】产品置于极简的学习空间，纯净的背景，简洁的线条，突出图书内容的重要性。",
                      industrial: "【工业图书风格】产品置于工业风格的学习环境，金属书架或混凝土背景，冷色调灯光，展现现代学习美学。",
                      romantic: "【浪漫阅读风格】产品置于浪漫的阅读环境，柔美的装饰和灯光，粉色或暖色调背景，营造温馨的阅读氛围。",
                      professional: "【专业学术风格】产品置于专业的学术环境，简洁的背景，专业的学习灯光，突出图书的学术价值。",
                      lifestyle: "【生活阅读风格】产品置于真实的生活阅读场景，自然的家居环境，展现图书在日常生活中的重要性。"
                   },
                   toys: {
                       premium: "【高端玩具摄影】产品置于精美的展示台，背景为高端玩具店环境，专业展示灯光，周围有精致装饰，整体氛围高端有趣。",
                       natural: "【自然游戏风格】产品放置在自然的游戏环境中，背景为户外或温馨室内，自然光线照射，营造快乐的游戏氛围。",
                       modern: "【现代玩具风格】产品居中置于现代简约的游戏空间，几何设计元素，明亮的灯光，突出玩具的现代设计感。",
                       warm: "【温馨游戏场景】产品置于温暖的家庭游戏环境，柔和的暖光照射，背景为舒适的儿童房或客厅，强调家庭乐趣。",
                       tech: "【科技玩具感】产品置于现代化的科技环境，LED灯光效果，科技感背景，突出玩具的科技功能和创新性。",
                       artistic: "【艺术玩具摄影】产品作为艺术品展示，周围用彩色的艺术装饰和光影，创意性构图，富有想象力的玩具美学。",
                       vintage: "【复古玩具风格】产品置于复古装饰的游戏环境，怀旧背景，暖色调灯光，营造经典的童年回忆氛围。",
                       minimalist: "【极简玩具风格】产品置于纯净的背景，极简的展示方式，均匀柔和的光线，突出玩具本身的设计和功能。",
                       industrial: "【工业玩具风格】产品置于工业风格的环境，金属或混凝土背景，冷色调灯光，展现现代玩具的工业设计美学。",
                       romantic: "【梦幻玩具风格】产品置于梦幻的环境中，粉色或彩色背景，柔和的光线，周围有童话元素装饰，营造梦幻氛围。",
                       professional: "【专业玩具展示】产品置于专业的展示环境，标准的产品摄影灯光，突出玩具的专业品质和安全性。",
                       lifestyle: "【生活玩具风格】产品置于真实的游戏场景中，自然的家庭环境，展现玩具在日常生活中带来的快乐。"
                   },
                   automotive: {
                       premium: "【高端汽车用品摄影】产品置于豪华汽车内饰环境，背景为高端车辆，专业汽车灯光，周围有精致汽车装饰，整体氛围奢华专业。",
                       natural: "【自然驾驶风格】产品放置在自然的驾驶环境中，背景为户外或车库，自然光线照射，营造真实的驾驶氛围。",
                       modern: "【现代汽车风格】产品居中置于现代汽车环境，几何设计元素，明亮的车内灯光，突出产品的现代科技感。",
                       warm: "【温馨驾驶场景】产品置于温暖的车内环境，柔和的暖光照射，背景为舒适的车内空间，强调驾驶的舒适感。",
                       tech: "【科技汽车感】产品置于高科技的汽车环境，LED灯光效果，科技感仪表盘背景，突出产品的科技功能。",
                       artistic: "【艺术汽车摄影】产品作为艺术品展示，周围用动感的光影和线条效果，创意性构图，富有速度感的汽车美学。",
                       vintage: "【复古汽车风格】产品置于复古汽车环境，经典车型背景，暖色调灯光，营造怀旧的汽车文化氛围。",
                       minimalist: "【极简汽车风格】产品置于简洁的车内环境，纯净的背景，均匀柔和的光线，突出产品的功能性和实用性。",
                       industrial: "【工业汽车风格】产品置于工业风格的汽车环境，金属质感背景，冷色调灯光，展现现代汽车工业美学。",
                       romantic: "【浪漫驾驶风格】产品置于浪漫的车内环境，柔美的装饰和灯光，暖色调背景，营造温馨的驾驶氛围。",
                       professional: "【专业汽车展示】产品置于专业的汽车展示环境，标准的汽车摄影灯光，突出产品的专业品质和安全性。",
                       lifestyle: "【生活驾驶风格】产品置于真实的驾驶场景中，自然的车内环境，展现产品在日常驾驶中的实用性。"
                   },
                   pets: {
                       premium: "【高端宠物用品摄影】产品置于精美的宠物展示环境，背景为高端宠物店或宠物SPA，专业宠物灯光，周围有精致宠物装饰，整体氛围温馨高端。",
                       natural: "【自然宠物风格】产品放置在自然的宠物环境中，背景为户外草地或温馨家居，自然光线照射，营造快乐的宠物生活氛围。",
                       modern: "【现代宠物风格】产品居中置于现代简约的宠物空间，几何设计元素，明亮的灯光，突出产品的现代设计感。",
                       warm: "【温馨宠物场景】产品置于温暖的家庭宠物环境，柔和的暖光照射，背景为舒适的宠物角落，强调宠物的幸福感。",
                       tech: "【科技宠物感】产品置于现代化的智能宠物环境，LED灯光效果，科技感背景，突出产品的智能功能。",
                       artistic: "【艺术宠物摄影】产品作为艺术品展示，周围用可爱的艺术装饰和光影，创意性构图，富有爱心的宠物美学。",
                       vintage: "【复古宠物风格】产品置于复古装饰的宠物环境，怀旧背景，暖色调灯光，营造经典的宠物生活氛围。",
                       minimalist: "【极简宠物风格】产品置于纯净的背景，极简的展示方式，均匀柔和的光线，突出产品对宠物的关爱。",
                       industrial: "【工业宠物风格】产品置于工业风格的宠物环境，金属或混凝土背景，冷色调灯光，展现现代宠物用品的设计美学。",
                       romantic: "【温馨宠物风格】产品置于温馨的宠物环境中，粉色或暖色调背景，柔和的光线，周围有可爱元素装饰，营造温馨氛围。",
                       professional: "【专业宠物展示】产品置于专业的宠物展示环境，标准的产品摄影灯光，突出产品的专业品质和安全性。",
                       lifestyle: "【生活宠物风格】产品置于真实的宠物生活场景中，自然的家庭环境，展现产品在宠物日常生活中的重要性。"
                   }
              };
            
            const promptText = prompts[productType][photoStyle];
            
            document.getElementById('promptText').textContent = promptText;
            document.getElementById('promptResult').style.display = 'block';
            
            showToast('提示词生成成功！', 'success');
        }
        
        function copyPrompt() {
            const promptText = document.getElementById('promptText').textContent;
            navigator.clipboard.writeText(promptText).then(() => {
                showToast('背景图提示词已复制到剪贴板！', 'success');
            }).catch(() => {
                // 备用复制方法
                const textArea = document.createElement('textarea');
                textArea.value = promptText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showToast('背景图提示词已复制到剪贴板！', 'success');
            });
        }
        
        function startBackground() {
            showToast('请使用上方的提示词生成器，然后跳转到豆包AI进行背景图生成', 'info');
            
            // 滚动到提示词生成区域
            document.querySelector('.prompt-section').scrollIntoView({ 
                behavior: 'smooth',
                block: 'center'
            });
        }
        
        // 移除了模拟融合结果相关的函数，现在主要功能是生成提示词
        
        // 移除了加载相关函数
        
        function showSceneDemo(sceneType) {
            const descriptions = {
                premium: {
                    title: '🏆 高端奢华风格',
                    desc: '采用深色背景配合金色装饰元素，专业灯光营造奢华质感，适合高端产品展示。背景通常包含大理石纹理、金属质感或丝绸材质，突出产品的尊贵品质。'
                },
                natural: {
                    title: '🌿 自然清新风格', 
                    desc: '使用自然光线和绿色植物元素，营造清新自然的氛围。背景多采用木质纹理、绿叶装饰和柔和光线，强调产品的天然健康特性。'
                },
                tech: {
                    title: '🚀 科技未来风格',
                    desc: '运用冷色调和几何线条，配合LED灯光效果，营造现代科技感。背景包含科技元素、数据可视化和未来感装饰，突出产品的创新技术。'
                },
                artistic: {
                    title: '🎨 艺术创意风格',
                    desc: '采用渐变色彩和抽象艺术元素，创造富有想象力的视觉效果。背景融合多种色彩和艺术形式，展现产品的创意设计和艺术价值。'
                }
            };
            
            const scene = descriptions[sceneType];
            const descElement = document.getElementById('sceneDescription');
            
            if (scene && descElement) {
                descElement.innerHTML = `
                    <h4 style="margin: 0 0 10px 0; color: #4CAF50; font-size: 16px;">${scene.title}</h4>
                    <p style="margin: 0; color: #333; font-size: 14px; line-height: 1.5;">${scene.desc}</p>
                `;
                
                // 添加视觉反馈
                descElement.style.background = 'rgba(76, 175, 80, 0.15)';
                descElement.style.borderLeft = '4px solid #4CAF50';
                
                setTimeout(() => {
                    descElement.style.background = 'rgba(76, 175, 80, 0.1)';
                }, 300);
            }
        }
        
        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? '#4CAF50' : type === 'error' ? '#f44336' : '#2196F3'};
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 10000;
                font-weight: 500;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }
        
        // 拖拽上传功能
        const uploadAreas = document.querySelectorAll('.upload-area');
        if (uploadAreas.length > 0) {
            uploadAreas.forEach(area => {
                area.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    area.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', () => {
                    area.classList.remove('dragover');
                });
                
                area.addEventListener('drop', (e) => {
                    e.preventDefault();
                    area.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const input = area.nextElementSibling;
                        if (input && input.type === 'file') {
                            input.files = files;
                            input.dispatchEvent(new Event('change'));
                        }
                    }
                });
            });
        }
    </script>
</body>
</html>